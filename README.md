# ë“€ì˜¤í•´ë“€ì˜¤
![Frame 9125](https://user-images.githubusercontent.com/86117661/192491788-2784249c-6367-45d6-bd2a-7b46acc5814a.jpg)


ë“€ì˜¤í•´ë“€ì˜¤ëŠ” ë‚´ í”Œë ˆì´ìŠ¤íƒ€ì¼ ê¸°ë°˜ ì°°ë–¡ ë“€ì˜¤ë¥¼ ë§¤ì¹­í•´ì£¼ëŠ” ì„œë¹„ìŠ¤ì—ìš”

1ï¸âƒ£ ë¡¤ë¹„í‹°ì•„ì´ ê¸°ë°˜ ì•Œê³ ë¦¬ì¦˜ìœ¼ë¡œ ì°°ë–¡ ë“€ì˜¤ë¥¼ ë§¤ì¹­í•´ë“œë ¤ìš” ğŸ¤  
2ï¸âƒ£ ì „ì ë§Œìœ¼ë¡œ ì•Œ ìˆ˜ ì—†ì—ˆë˜ í”Œë ˆì´ìŠ¤íƒ€ì¼ê³¼, ì‹¤ì œ ë“€ì˜¤í›„ê¸°ë„ í™•ì¸í•´ë³´ì„¸ìš” ğŸ‘€  
3ï¸âƒ£ ì‹¤ì‹œê°„ìœ¼ë¡œ ë“€ì˜¤ë¥¼ ì°¾ê³  ìˆëŠ” ì†Œí™˜ì‚¬ë„ ë§Œë‚  ìˆ˜ ìˆì–´ìš”  
4ï¸âƒ£ ë§ˆìŒì— ë“œëŠ” ì†Œí™˜ì‚¬ê°€ ìˆë‹¤ë©´, ë°”ë¡œ 1:1 ì±„íŒ…ìœ¼ë¡œ ë¡¤ì•½ì†ì„ ì¡ì•„ë³´ì„¸ìš”  

ì•„ë˜ ë§í¬ë¥¼ í´ë¦­í•˜ë©´ ë¡¤ë¹„í‹°ì•„ì´ ê²€ì‚¬ì™€ 3ì´ˆ ì•ˆì— íšŒì›ê°€ì…ì´ ê°€ëŠ¥í•´ìš”!  
ì‹¬ì‹¬í•˜ì‹¤ ë•Œ ê°€ì…í•´ì£¼ì‹œë©´ ì •ë§ ê°ì‚¬ë“œë¦¬ê² ìŠµë‹ˆë‹¹  
(ì–´ì©Œë©´ ì•Œê³ ë¦¬ì¦˜ìœ¼ë¡œ ì ˆ ë§Œë‚˜ì‹¤ ìˆ˜ë„..? ğŸ˜‹)  

ğŸ‘‰ë“€ì˜¤í•´ë“€ì˜¤ ë°”ë¡œê°€ê¸°  
 [https://duoduo.lol/tendency-test?type=direct](https://duoduo.lol/tendency-test?type=direct)

## 1ï¸âƒ£ í”„ë¡œì íŠ¸ ê¸°ê°„

2022.07 ~ 2022.08 (6ì£¼)

## 2ï¸âƒ£ ì„œë¹„ìŠ¤ í™”ë©´

### ì˜¨ë³´ë”© ë° ë¡¤ë¹„í‹°ì•„ì´(í”Œë ˆì´ìŠ¤íƒ€ì¼ ê²€ì‚¬)

![duo-tendency_test](https://user-images.githubusercontent.com/78065948/219393510-2e815669-17a1-4508-ad47-735b3d3c42d4.gif)

### í™ˆ

![duo-home](https://user-images.githubusercontent.com/78065948/219356198-e50e47c8-10f7-4e07-bb18-0b9e9fc8faab.gif)

### ë§ì¶¤ ì¶”ì²œ ì†Œí™˜ì‚¬

![duo-recommendjpg](https://user-images.githubusercontent.com/78065948/219357409-00ead885-e31a-45c9-8ac8-92e35d084001.jpg)

### ìµœì‹  ì†Œí™˜ì‚¬

![duo-recommend_new](https://user-images.githubusercontent.com/78065948/219357502-e9a40c31-00fa-4c33-8949-060b010ee262.gif)

### ìœ ì € í”„ë¡œí•„

![duo-profile](https://user-images.githubusercontent.com/78065948/219356502-0c8be51d-bea4-4dca-94a6-17e69882987d.gif)

### ì „ì 

![duo-match_history](https://user-images.githubusercontent.com/78065948/219356897-c51a30a9-c6ba-4aa9-8f08-60271c0a6b21.gif)

### ì±„íŒ…

![duo-chat](https://user-images.githubusercontent.com/78065948/219401185-7d7378b2-b5c3-4916-8ef3-e1ed22b856a6.gif)
![duo-chat_notice](https://user-images.githubusercontent.com/78065948/219405808-c85157c9-0826-47cf-adcf-6526faabbce3.gif)

### ë¦¬ë·° ì‘ì„±

![duo-review_positive](https://user-images.githubusercontent.com/78065948/219357204-b034cb29-a4ef-4d2e-bbc5-10ca03360e83.jpg)
![duo-review_netgative](https://user-images.githubusercontent.com/78065948/219357088-df57f6d4-7471-44fe-aadc-562f31113618.jpg)
![duo-review_complete](https://user-images.githubusercontent.com/78065948/219357079-f5935ebe-52bd-4744-8dfe-5bd43e9f2935.jpg)

### ë§ˆì´ í˜ì´ì§€

![duo-mypage](https://user-images.githubusercontent.com/78065948/219357746-e8023ae9-d3b9-4595-9846-d061b91d4e9b.jpg)

### íšŒì› íƒˆí‡´

![duo-withdrawl](https://user-images.githubusercontent.com/78065948/219358154-5486a575-0e3b-4b4f-bdb4-1587e28ee4cf.jpg)

### ë¡œê·¸ì¸

![duo-login](https://user-images.githubusercontent.com/78065948/219358224-f78fd02e-eea9-41d2-b824-e62b004e568a.jpg)

### ë¹„ë¡œê·¸ì¸ í™”ë©´

![duo-home_blured](https://user-images.githubusercontent.com/78065948/219356714-fe0740ad-e473-4365-82fa-8a42033b8ecb.jpg)
![duo-profile_blured](https://user-images.githubusercontent.com/78065948/219358384-ba758fc4-c933-47da-8c16-b81f21d49607.jpg)
![image](https://user-images.githubusercontent.com/78065948/219359026-8b99cc03-34df-4597-872b-b6b2dcf0bd4d.png)

### 404

![duo-404](https://user-images.githubusercontent.com/78065948/219358353-2bd1ffcb-6c49-458e-87bf-b5dcfdd026ef.jpg)

## 3ï¸âƒ£ **Service Architecture**

<img width="1000" alt="Frame 1" src="https://user-images.githubusercontent.com/86117661/192491728-616c0644-a871-464c-b170-280d89f66e31.png">


## 4ï¸âƒ£ **BE Core Tools**

![image](https://user-images.githubusercontent.com/86117661/192492011-f3fb4f3d-b131-49f6-8c08-3bf3e5e9baaf.png)


### **Library**

![image](https://user-images.githubusercontent.com/86117661/200250200-09cfdf5a-e790-43c4-ae59-20c36ad0ed35.png)


## 5ï¸âƒ£ Trouble Shooting

### issue 1

### ğŸ¤” situation

- ë¡œê·¸ì¸ ì‹œ ì„œë²„ì—ì„œ Set-cookie í•´ì¤€ ì¿ í‚¤ë¥¼ í´ë¼ì´ì–¸íŠ¸ì—ì„œ êº¼ë‚´ì„œ ë¡œê·¸ì¸ ì—¬ë¶€ë¥¼ íŒë³„í•˜ê³  ì‹¶ì—ˆëŠ”ë°, ì‚¬ìš©í•  ìˆ˜ ì—†ì—ˆìŒ
- ê°œë°œì ë„êµ¬ì˜ Networkíƒ­ì—ì„œ Request cookiesì—ëŠ” ì˜ ì™”ë‹¤ê°”ë‹¤ í•˜ëŠ”ê²Œ ë³´ì˜€ìœ¼ë‚˜ Applicationíƒ­ì˜ cookie, ì¦‰ í´ë¼ì´ì–¸íŠ¸ì˜ ë¸Œë¼ìš°ì €ì—ëŠ” ì €ì¥ì´ ë˜ì§€ ì•Šì•„ ì‚¬ìš©í•  ìˆ˜ ì—†ì—ˆìŒ

### ğŸ˜™ solution

- httpOnly, secure, domain, samesite ë“± Set-cookieì˜ ì˜µì…˜ë“¤ì„ ë‹¤ì–‘í•˜ê²Œ ë°”ê¾¸ì–´ ë³´ì•˜ì§€ë§Œ ì›í•˜ëŠ” ë°©ì‹ëŒ€ë¡œ ì‘ë™í•˜ì§€ ì•ŠìŒ
- â†’ ì„œë²„ì™€ í´ë¼ì´ì–¸íŠ¸ì˜ ë„ë©”ì¸ì´ ë‹¬ë¼ ì„œë²„ ì¸¡ ë„ë©”ì¸ì— ì¿ í‚¤ê°€ ì €ì¥ë˜ê³  ìˆì—ˆìŒ
- â†’ ì—¬ì „íˆ í´ë¼ì´ì–¸íŠ¸ì—ì„œ ê·¸ ì¿ í‚¤ë¥¼ ì‚¬ìš©í•  ìˆœ ì—†ì—ˆê¸°ì— í´ë¼ì´ì–¸íŠ¸ ì£¼ì†Œì¸ [https://duoduo.lol](https://duoduo.lolì—)ì˜ í•˜ìœ„ ë„ë©”ì¸ì¸  [https://server.duoduo.lol](https://server.duoduo.lolë¡œ)ë¡œ ì„œë²„ ì£¼ì†Œë¥¼ ì´ì „í•¨
- â†’ ì›í•˜ë˜ ëŒ€ë¡œ ë„¤íŠ¸ì›Œí¬ í—¤ë”ì—ë„, ë¸Œë¼ìš°ì € ì¿ í‚¤ì—ë„ ë‘˜ ë‹¤ ì €ì¥ì´ ë¨!

### issue 2

### ğŸ¤” situation

- í•˜ë£¨ì— í•œë²ˆ ë‚˜ì˜ í”Œë ˆì´ìŠ¤íƒ€ì¼ì— ë§ëŠ” ìœ ì € 3ëª…ì„ ì¶”ì²œí•´ì£¼ëŠ” ê°€ì¥ ì¤‘ìš”í•œ APIê°€ ìˆì—ˆëŠ”ë°, ëª¨ë“  ìœ ì €ë¥¼ ë¶ˆëŸ¬ì™€ì„œ ì•Œê³ ë¦¬ì¦˜ì„ ì ìš©ì‹œí‚¤ëŠ” ê²ƒì€ ë§ë„ ì•ˆë˜ëŠ” ë°©ë²•ì´ì—ˆê¸°ì— DBì—ì„œ ê°€ì ¸ì˜¬ ë•Œ ì• ì´ˆì— 3ëª…ì„ ë½‘ì•„ì™€ì•¼ í–ˆëŠ”ë° ì´ì „ í”„ë¡œì íŠ¸ë¥¼ í•˜ë©´ì„œ ìµìˆ™í•´ì§„ mySQLì´ ì•„ë‹Œ mongoDBë¥¼ ì‚¬ìš©í•˜ì˜€ê¸°ì— ê·¸ ë°©ë²•ì´ ë– ì˜¤ë¥´ì§€ ì•ŠìŒ

### ğŸ˜™ solution

- ì˜¤ëœ ê²€ìƒ‰ ëì— mongooseì˜ aggregateë¥¼ ì‚¬ìš©í•˜ì—¬ í•´ê²°
- ì´ ë•Œ mongoDBë„ mySQLì²˜ëŸ¼ ê´€ê³„í˜•ì€ ì•„ë‹ˆì§€ë§Œ, ê´€ê³„í˜•ì²˜ëŸ¼ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ë°©ë²•ì´ ë§ë‹¤ëŠ” ê²ƒì„ ì•Œì•„ëƒ„

### issue 3

### ğŸ¤” situation

- ìµœê·¼ ì „ì ì„ ë¶ˆëŸ¬ì˜¬ ë•Œ,  ìœ ì €ê³ ìœ IDë¥¼ í†µí•´ MongoDBì—ì„œ í•´ë‹¹ ìœ ì €ì˜ ë¡¤ ë‹‰ë„¤ì„ì„ ê°€ì ¸ì˜¨ ë’¤, axiosë¥¼ ì´ìš©í•˜ì—¬ riot apiì™€ í†µì‹ í•˜ì—¬ ì†Œí™˜ì‚¬ ë°ì´í„°ë¥¼ ë°›ê³ , ë°›ì€ ë°ì´í„°ì—ì„œ ì†Œí™˜ì‚¬ puuidë¥¼ ê°€ì§€ê³  ë‹¤ì‹œ í•œë²ˆ riot apiì™€ í†µì‹ í•˜ì—¬ ë§¤ì¹˜id ë¦¬ìŠ¤íŠ¸ë¥¼ 100ê°œë¥¼ ë°›ì•„ì™”ë‹¤. ê·¸ í›„ ìµœê·¼ ì „ì  í˜ì´ì§€ë„¤ì´ì…˜ì— ë”°ë¼ 5ê°œì”© ë˜ riot apiì™€ í†µì‹ í•´ì„œ ê° ë§¤ì¹˜ì˜ ì •ë³´ë¥¼ ë°›ì•„ì™”ë‹¤. ìµœê·¼ì „ì  5ê°œë¥¼ ê°€ì ¸ì˜¬ ë•Œ axiosí†µì‹ ë§Œ 7ë²ˆì”© í•´ì•¼í•´ì„œ ì‘ë‹µì†ë„ê°€ ë„ˆë¬´ ì˜¤ë˜ê±¸ë ¸ê³  ìœ ì €ì—ê²Œ ë¶ˆí¸í•œ ê²½í—˜ì„ ì¤„ ê²ƒ ê°™ì•˜ë‹¤.

### ğŸ˜™ solution

- redisë¥¼ ì´ìš©í•˜ì—¬ ìºì‹±ì„ í•´ì„œ í•´ê²°
- ìºì‹œ ë°ì´í„°ê°€ ë§Œë£Œë˜ê¸° ì „ê¹Œì§€ëŠ” ì‘ë‹µì†ë„ë¥¼ í‰ê·  **3.03 s â†’ 389 ms** ë¡œ 88%ê°€ëŸ‰ ë‹¨ì¶•ì‹œì¼°ë‹¤.

## 6ï¸âƒ£ Members

![image](https://user-images.githubusercontent.com/86117661/192492220-127f37ac-077e-4a63-80e5-8adb4133728d.png)
